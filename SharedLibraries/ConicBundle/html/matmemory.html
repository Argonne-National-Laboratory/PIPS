<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ConicBundle: Internal Memory Manegement</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="index.html">The ConicBundle Library for Convex Optimization</a>&nbsp;&raquo&nbsp;<a class="el" href="matrixclasses.html">Matrix Classes (namespace CH_Matrix_Classes)</a>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="matmemory">Internal Memory Manegement </a></h1>A typical problem in using overloaded arithmetic operators for C++ matrix classes is the frequent generation of temporary automatic matrix variables by the compiler. This does not only need a lot of copying but also leads to a lot of interaction with the memory manager. In particular, in the typical situation of the use of many matrices with very slight changes in size, severe memory fragmentation problems may occur with the standard memory manager.<p>
In order to reduce this effect, the library usees a very naiv but sufficiently efficient memory manager of its own (see <a class="el" href="group__memarraygroup.html">Classes and Functions for Memory Management</a>) for the internal value arrays of the matrix classes. In particular, it allocates only blocks of size 2^n for appropriate sizes of n, and retunrs such a block for any request that fits in [2^(n-1),2^n]. It never frees any memory, except when the memory manager is destructed, but keeps the blocks that are returned by destructed matrices, in order to serve the next request for the same amount. The memory manager is initialized as soon as one class derived from <a class="el" href="classCH__Matrix__Classes_1_1Memarrayuser.html" title="All derived classes share a common Memarray memory manager, which is generated with...">CH_Matrix_Classes::Memarrayuser</a> is instantiated and it is destructed, whenever the number of instantiated Memarrayusers drops to zero.<p>
In consequence, operations like appending a scalar to a vector are very efficient and cause additional copying only if the size exceeds a 2^n threshold, i.e., the work involved in appending a scalar is O(1) in amortized sense. </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue May 3 16:52:54 2011 for ConicBundle by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
